{"version":3,"sources":["../../src/lib/named.js"],"names":["re","rule","replacement","match","def","methods","quotes","src","r","mm","replace","_","name","alias","s"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,EAAE,GAAG,uGAAX;AAEA;;;;;;AAIA,MAAMC,IAAI,GAAG;AACXD,EAAAA,EADW;;AAEXE,EAAAA,WAAW,CAACC,KAAD,EAAQC,GAAR,EAAaC,OAAb,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmC;AAC5C,UAAMC,CAAC,GAAG,mBAAWF,MAAX,EAAmBC,GAAnB,CAAV;AACA,UAAME,EAAE,GAAGJ,OAAO,CAACK,OAAR,CACT,kCADS,EAET,CAACC,CAAD,EAAIC,IAAJ,EAAUC,KAAV,KAAoB;AAClB,aAAOA,KAAK,GAAI,GAAED,IAAK,KAAIC,KAAM,EAArB,GAAyBD,IAArC;AACD,KAJQ,CAAX;;AAMA,QAAIR,GAAJ,EAAS;AACP,YAAMU,CAAC,GAAI,SAAQV,GAAI,MAAKI,CAAE;SAC3BC,EAAG,OAAML,GAAI,EADhB;AAEA,aAAOU,CAAP;AACD,KAJD,MAIO;AACL,YAAMA,CAAC,GAAI,UAASL,EAAG,OAAMD,CAAE,EAA/B;AACA,aAAOM,CAAP;AACD;AACF;;AAlBU,CAAb;eAqBeb,I","sourcesContent":["import { getRequire } from '.'\n\nconst re = /^ *import\\s*(?:([\\w\\d]+)\\s*,)?\\s*{((?:\\s*[\\w\\d]+(?:\\s*as\\s*[\\w\\d]+)?\\s*,?\\s*)*)} from ([\"'])(.+?)\\3/gm\n\n/**\n * A rule to replace `import { method } from 'package'` statement.\n * @type {import('restream').Rule}\n */\nconst rule = {\n  re,\n  replacement(match, def, methods, quotes, src) {\n    const r = getRequire(quotes, src)\n    const mm = methods.replace(\n      /([\\w\\d]+)(?:\\s+as\\s*([\\w\\d]+))?/g,\n      (_, name, alias) => {\n        return alias ? `${name}: ${alias}` : name\n      })\n\n    if (def) {\n      const s = `const ${def} = ${r}\nconst {${mm}} = ${def}`\n      return s\n    } else {\n      const s = `const {${mm}} = ${r}`\n      return s\n    }\n  },\n}\n\nexport default rule\nexport { re }"],"file":"named.js"}